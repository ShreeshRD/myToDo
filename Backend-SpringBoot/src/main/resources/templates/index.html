<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="base :: head(~{::title})">
    <title>ToDo App</title>
</head>

<body th:replace="base :: body(~{::h1}, ~{::section})">
<h1>ToDo List</h1>

<section>
    <div class="todoList">
        <form class="form-horizontal" id="fullList" role="form" th:action="@{/update}" method="POST">
            <table class="table table-bordered table-striped" id="todoItems" th:object="${items}">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Complete</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                <!--<tr th:each="item,i : *{todoList}" th:class="${item.complete}? active : warning">-->
                <tr th:each="item,i : *{todoList}">
                    <input type="hidden" th:field="*{todoList[__${i.index}__].id}" />
                    <td th:text="${item.name}" th:style="${item.complete} ? 'text-decoration: line-through;' : ''">Item_name</td><input type="hidden"
                                                                                                                                        th:field="*{todoList[__${i.index}__].name}" />
                    <td th:text="${item.category}" th:style="${item.complete} ? 'text-decoration: line-through;' : ''">item_category</td><input type="hidden"
                                                                                                                                                th:field="*{todoList[__${i.index}__].category}" />
                    <td>
                        <input type="checkbox" th:checked="${item.complete} == true" th:field="*{todoList[__${i.index}__].complete}" th:id="'btncheck_' + ${i.index}" autocomplete="off">
                        <label th:for="'btncheck_' + ${i.index}">Mark</label>
                    </td>
                    <td>
                        <a th:href="@{/delete/{id}(id=${item.id})}" class="btn btn-danger">Delete</a>
                    </td>
                    <td th:text="${item.taskDate != null ? #temporals.format(item.taskDate, 'MM-dd') : 'none'}">Default_Date</td>
                </tr>
                </tbody>
            </table>
            <!-- Update Button -->
            <button type="submit" from="fullList" class="btn btn-primary">Update Tasks</button>
        </form>
    </div>

    <hr />

    <!-- Item Input Form -->
    <div class="todoForm">
        <form class="form-horizontal" role="form" th:action="@{/add}" th:object="${newitem}" method="POST">
            <div class="form-group">
                <label for="inputItemName" class="col-sm-2">Task Name</label>
                <div class="col-sm-10">
                    <input type="text" th:field="*{name}" class="form-control" id="inputItemName" placeholder="Enter name" />
                </div>
            </div>

            <div class="form-group">
                <label for="inputItemCategory" class="col-sm-2">Task Category</label>
                <div class="col-sm-10">
                    <input type="text" th:field="*{category}" class="form-control" id="inputItemCategory"
                           placeholder="Enter category" />
                </div>
            </div>
            <br/>
            <button type="submit" class="btn btn-primary">Add Task</button>

        </form>
    </div>
</section>

</body>

</html>