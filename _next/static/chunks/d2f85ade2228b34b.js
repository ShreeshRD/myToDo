(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49239,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=(0,r.createContext)();e.s(["UIProvider",0,({children:e})=>{let n=(()=>{let[e,t]=(0,r.useState)(()=>{{let e=localStorage.getItem("showSidebar");return!e||JSON.parse(e)}}),[a,n]=(0,r.useState)(()=>{{let e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)}}),[i,s]=(0,r.useState)(()=>{{let e=localStorage.getItem("viewPage");return e?JSON.parse(e):"Upcoming"}}),[o,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{localStorage.setItem("showSidebar",JSON.stringify(e))},[e]),(0,r.useEffect)(()=>{localStorage.setItem("darkMode",JSON.stringify(a))},[a]),(0,r.useEffect)(()=>{localStorage.setItem("viewPage",JSON.stringify(i))},[i]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{d(!1)},1e4);return()=>clearTimeout(e)},[]),{showSidebar:e,setShowSidebar:t,darkMode:a,setDarkMode:n,viewPage:i,setViewPage:s,showAlert:o,setShowAlert:d}})();return(0,t.jsx)(a.Provider,{value:n,children:e})},"useUI",0,()=>(0,r.useContext)(a)],49239)},22315,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e="millisecond",t="second",r="minute",a="hour",n="week",i="month",s="quarter",o="year",d="date",u="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(r)+e},m="en",h={};h[m]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}};var y="$isDayjsObject",p=function(e){return e instanceof $||!(!e||!e[y])},g=function e(t,r,a){var n;if(!t)return m;if("string"==typeof t){var i=t.toLowerCase();h[i]&&(n=i),r&&(h[i]=r,n=i);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var o=t.name;h[o]=t,n=o}return!a&&n&&(m=n),n||!a&&m},D=function(e,t){if(p(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new $(r)},k={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var a=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(a,i),s=r-n<0,o=t.clone().add(a+(s?-1:1),i);return+(-(a+(r-n)/(s?n-o:o-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:i,y:o,w:n,d:"day",D:d,h:a,m:r,s:t,ms:e,Q:s})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};k.l=g,k.i=p,k.w=function(e,t){return D(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function f(e){this.$L=g(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}var m=f.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(l);if(a){var n=a[2]-1||0,i=(a[7]||"0").substring(0,3);return r?new Date(Date.UTC(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return k},m.isValid=function(){return this.$d.toString()!==u},m.isSame=function(e,t){var r=D(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return D(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<D(e)},m.$g=function(e,t,r){return k.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,s){var u=this,l=!!k.u(s)||s,c=k.p(e),f=function(e,t){var r=k.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return l?r:r.endOf("day")},m=function(e,t){return k.w(u.toDate()[e].apply(u.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},h=this.$W,y=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case o:return l?f(1,0):f(31,11);case i:return l?f(1,y):f(0,y+1);case n:var D=this.$locale().weekStart||0,$=(h<D?h+7:h)-D;return f(l?p-$:p+(6-$),y);case"day":case d:return m(g+"Hours",0);case a:return m(g+"Minutes",1);case r:return m(g+"Seconds",2);case t:return m(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(n,s){var u,l=k.p(n),c="set"+(this.$u?"UTC":""),f=((u={}).day=c+"Date",u[d]=c+"Date",u[i]=c+"Month",u[o]=c+"FullYear",u[a]=c+"Hours",u[r]=c+"Minutes",u[t]=c+"Seconds",u[e]=c+"Milliseconds",u)[l],m="day"===l?this.$D+(s-this.$W):s;if(l===i||l===o){var h=this.clone().set(d,1);h.$d[f](m),h.init(),this.$d=h.set(d,Math.min(this.$D,h.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[k.p(e)]()},m.add=function(e,s){var d,u=this;e=Number(e);var l=k.p(s),c=function(t){var r=D(u);return k.w(r.date(r.date()+Math.round(t*e)),u)};if(l===i)return this.set(i,this.$M+e);if(l===o)return this.set(o,this.$y+e);if("day"===l)return c(1);if(l===n)return c(7);var f=((d={})[r]=6e4,d[a]=36e5,d[t]=1e3,d)[l]||1,m=this.$d.getTime()+e*f;return k.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||u;var a=e||"YYYY-MM-DDTHH:mm:ssZ",n=k.z(this),i=this.$H,s=this.$m,o=this.$M,d=r.weekdays,l=r.months,f=r.meridiem,m=function(e,r,n,i){return e&&(e[r]||e(t,a))||n[r].slice(0,i)},h=function(e){return k.s(i%12||12,e,"0")},y=f||function(e,t,r){var a=e<12?"AM":"PM";return r?a.toLowerCase():a};return a.replace(c,function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return o+1;case"MM":return k.s(o+1,2,"0");case"MMM":return m(r.monthsShort,o,l,3);case"MMMM":return m(l,o);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return m(r.weekdaysMin,t.$W,d,2);case"ddd":return m(r.weekdaysShort,t.$W,d,3);case"dddd":return d[t.$W];case"H":return String(i);case"HH":return k.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return y(i,s,!0);case"A":return y(i,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},m.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},m.diff=function(e,d,u){var l,c=this,f=k.p(d),m=D(e),h=(m.utcOffset()-this.utcOffset())*6e4,y=this-m,p=function(){return k.m(c,m)};switch(f){case o:l=p()/12;break;case i:l=p();break;case s:l=p()/3;break;case n:l=(y-h)/6048e5;break;case"day":l=(y-h)/864e5;break;case a:l=y/36e5;break;case r:l=y/6e4;break;case t:l=y/1e3;break;default:l=y}return u?l:k.a(l)},m.daysInMonth=function(){return this.endOf(i).$D},m.$locale=function(){return h[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),a=g(e,t,!0);return a&&(r.$L=a),r},m.clone=function(){return k.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},f}(),S=$.prototype;return D.prototype=S,[["$ms",e],["$s",t],["$m",r],["$H",a],["$W","day"],["$M",i],["$y",o],["$D",d]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),D.extend=function(e,t){return e.$i||(e(t,$,D),e.$i=!0),D},D.locale=g,D.isDayjs=p,D.unix=function(e){return D(1e3*e)},D.en=h[m],D.Ls=h,D.p={},D}()},49946,55111,e=>{"use strict";var t=e.i(71645),r=e.i(22315);let a="mytodo_demo_tasks",n="mytodo_demo_counter",i=()=>{let e,t,i,s,o;localStorage.setItem(a,JSON.stringify((e=(0,r.default)().format("YYYY-MM-DD"),t=(0,r.default)().add(1,"day").format("YYYY-MM-DD"),i=(0,r.default)().subtract(1,"day").format("YYYY-MM-DD"),s=(0,r.default)().add(2,"day").format("YYYY-MM-DD"),[{id:1,complete:!1,taskDate:e,name:"Task 1 for today",dayOrder:1,category:"None",priority:0,repeatType:"NONE",repeatDuration:0,assignedTime:null},{id:2,complete:!1,taskDate:e,name:"Morning workout",dayOrder:2,category:"Personal",priority:2,repeatType:"NONE",repeatDuration:0,assignedTime:"07:30:00"},{id:3,complete:!1,taskDate:e,name:"Team meeting",dayOrder:3,category:"Office",priority:3,repeatType:"NONE",repeatDuration:0,assignedTime:"10:30:00"},{id:4,complete:!1,taskDate:e,name:"Repeating Daily Task",dayOrder:4,category:"None",priority:0,repeatType:"EVERY_X_DAYS",repeatDuration:1,assignedTime:null},{id:5,complete:!1,taskDate:t,name:"Tomorrow Task 1",dayOrder:1,category:"None",priority:0,repeatType:"NONE",repeatDuration:0,assignedTime:null},{id:6,complete:!1,taskDate:t,name:"High Priority Task",dayOrder:2,category:"Office",priority:4,repeatType:"NONE",repeatDuration:0,assignedTime:null},{id:7,complete:!1,taskDate:s,name:"Future planning",dayOrder:1,category:"Home",priority:1,repeatType:"NONE",repeatDuration:0,assignedTime:null},{id:8,complete:!1,taskDate:i,name:"Overdue Task",dayOrder:1,category:"None",priority:0,repeatType:"NONE",repeatDuration:0,assignedTime:null},{id:9,complete:!0,taskDate:o=(0,r.default)().subtract(7,"day").format("YYYY-MM-DD"),name:"Completed last week",dayOrder:1,category:"Personal",priority:0,repeatType:"NONE",repeatDuration:0,assignedTime:(0,r.default)(o).add(14,"hour").format("HH:mm:ss")},{id:10,complete:!0,taskDate:i,name:"Completed yesterday",dayOrder:2,category:"Home",priority:0,repeatType:"NONE",repeatDuration:0,assignedTime:(0,r.default)(i).add(16,"hour").format("HH:mm:ss")}]))),localStorage.setItem(n,"11");let d=localStorage.getItem(a);return d?JSON.parse(d):[]},s=e=>{localStorage.setItem(a,JSON.stringify(e))},o=(e="")=>new Promise(e=>{setTimeout(()=>{let t=i(),r={};t.forEach(e=>{r[e.taskDate]||(r[e.taskDate]=[]),r[e.taskDate].push(e)}),e({itemsByDate:r})},100)}),d=async(e,t,a)=>new Promise((n,o)=>{setTimeout(()=>{try{let d=i(),u=d.findIndex(t=>t.id===e);if(-1===u)return void o(Error(`Task with id ${e} not found`));d[u][t]=a,"complete"!==t||!0!==a||d[u].assignedTime||(d[u].assignedTime=(0,r.default)().format("HH:mm:ss")),s(d),n(d[u])}catch(t){console.error(`Error updating task with id ${e}:`,t),o(t)}},50)}),u=async(e,t,r="None",a=0,o="NONE",d=0)=>new Promise((u,l)=>{setTimeout(()=>{try{let l,c,f=i(),m=(c=(l=localStorage.getItem(n))?parseInt(l):1,localStorage.setItem(n,(c+1).toString()),c),h=f.filter(e=>e.taskDate===t).length+1,y={id:m,complete:!1,taskDate:t,name:e,dayOrder:h,category:r,priority:a,repeatType:o,repeatDuration:d,assignedTime:null};f.push(y),s(f),u(y)}catch(e){console.error("Error adding task:",e),l(e)}},50)}),l=async e=>new Promise((t,r)=>{setTimeout(()=>{try{let a=i(),n=a.filter(t=>t.id!==e);if(n.length===a.length)return void r(Error(`Task with id ${e} not found`));s(n),t(!0)}catch(e){console.error("Error deleting task:",e.message),r(e)}},50)});e.s(["addTask",0,u,"deleteTask",0,l,"getTasks",0,o,"updateField",0,d],55111),e.s(["default",0,()=>{let[e,a]=(0,t.useState)([]),[n,i]=(0,t.useState)({}),[s,c]=(0,t.useState)({overdue:[]}),[f,m]=(0,t.useState)((0,r.default)()),[h,y]=(0,t.useState)((0,r.default)().subtract(7,"day"));(0,t.useEffect)(()=>{(async()=>{await p()})()},[]);let p=async()=>{try{let e=await o("bydate");if(!e||!e.itemsByDate)return void console.warn("Invalid response structure from getTasks");let t=(0,r.default)().format("YYYY-MM-DD"),n={},s={overdue:[]},d={};for(let r in e.itemsByDate){let a=e.itemsByDate[r];r<t?a.forEach(e=>{e.complete?(n[r]||(n[r]=[]),n[r].push(e)):s.overdue.push(e)}):a.forEach(e=>{e.complete?(n[r]||(n[r]=[]),n[r].push(e)):(d[r]||(d[r]=[]),d[r].push(e))})}i(n),c(s),a(d)}catch(e){console.error("Error fetching tasks:",e)}},g=e=>{e&&e.taskDate?e.taskDate<(0,r.default)().format("YYYY-MM-DD")?c(t=>({...t,overdue:[...t.overdue||[],e]})):a(t=>({...t,[e.taskDate]:[...t[e.taskDate]||[],e]})):console.warn("Invalid task object in addToFrontend:",e)},D=async(t,o,u,l)=>{try{let f=await d(t,o,u);if("complete"===o){let o=(0,r.default)().format("YYYY-MM-DD"),d=l<o;if(!0===u){if(d){let e={...s};e.overdue=e.overdue.map(e=>e.id===t?{...e,...f}:e),c(e)}else{let r={...e};r[l]&&(r[l]=r[l].map(e=>e.id===t?{...e,...f}:e),a(r))}let r={...n};r[l]||(r[l]=[]),r[l].push({...f,complete:!0}),console.log("Adding task to completedTasks:",l,f),console.log("Updated completedTasks:",r),i(r),"NONE"!==f.repeatType&&$(f)}else{if(d){let e={...s};e.overdue=e.overdue.map(e=>e.id===t?{...e,complete:!1}:e),c(e)}else{let r={...e};r[l]&&(r[l]=r[l].map(e=>e.id===t?{...e,complete:!1}:e),a(r))}let r={...n};r[l]&&(r[l]=r[l].filter(e=>e.id!==t),i(r))}}else{let r={...e};r[l]&&(r[l]=r[l].map(e=>e.id===t?{...e,[o]:u}:e),a(r))}}catch(e){console.error(`Error updating task with id ${t}:`,e)}},k=async(e,t,r)=>{try{await d(e,t,r)}catch(t){console.error(`Error updating task with id ${e}:`,t)}},$=async e=>{let{taskDate:t,repeatType:a,repeatDuration:n}=e,i=(0,r.default)(t);switch(a){case"EVERY_X_DAYS":i=i.add(n,"day");break;case"EVERY_X_WEEKS":i=i.add(n,"week");break;case"EVERY_X_MONTHS":i=i.add(n,"month");break;case"SPECIFIC_WEEKDAYS":let s=n.toString(2).padStart(7,"0"),o=!1;for(;!o;)"1"===s[((i=i.add(1,"day")).day()+6)%7]&&(o=!0)}let d=i.format("YYYY-MM-DD");e.taskDate=d;try{let t=await u(e.name,d,e.category,e.priority,a,n);g(t)}catch(e){console.error("Error adding task:",e)}},S=async(t,o,d=!1)=>{try{if(await l(t)){let e={...n};e[o]=e[o].filter(e=>e.id!==t),d||e[o].forEach((e,t)=>{e.dayOrder=t+1,k(e.id,"dayOrder",t+1)}),i(e)}else if(o<(0,r.default)().format("YYYY-MM-DD")){let e={...s};e.overdue=e.overdue.filter(e=>e.id!==t),c(e)}else{let r={...e};r[o]=r[o].filter(e=>e.id!==t),d||r[o].forEach((e,t)=>{e.dayOrder=t+1,k(e.id,"dayOrder",t+1)}),a(r)}}catch(e){console.error(`Error deleting task with id ${t}:`,e)}};return{taskDays:e,setTaskDays:a,completedTasks:n,setCompletedTasks:i,overdueTasks:s,setOverdueTasks:c,startDate:f,setStartDate:m,completedDate:h,setCompletedDate:y,fetchTasks:p,addToFrontend:g,updateTask:D,removeTask:S,moveTask:(t,r,n=null)=>{let i=null,o=null,d=!1,u=s.overdue.findIndex(e=>e.id.toString()===t);if(-1!==u)i=s.overdue[u],d=!0;else for(let r in e){let a=e[r].findIndex(e=>e.id.toString()===t);if(-1!==a){i=e[r][a],o=r;break}}if(!i)return void console.error("Source task not found:",t);let l=[...e[r]||[]].sort((e,t)=>e.dayOrder-t.dayOrder);d||o!==r||(l=l.filter(e=>e.id.toString()!==t));let f=0;if(n){let e=l.findIndex(e=>e.id.toString()===n);-1!==e&&(f=e+1)}let m={...i,taskDate:r};l.splice(f,0,m);let h=l.map((e,t)=>({...e,dayOrder:t+1}));if(d){let e={...s};e.overdue=e.overdue.filter(e=>e.id.toString()!==t),c(e)}a(e=>{let a={...e};return!d&&o&&(a[o]=(a[o]||[]).filter(e=>e.id.toString()!==t)),a[r]=h,a}),k(t,"taskDate",r),h.forEach((e,t)=>{k(e.id,"dayOrder",t+1)})},updateBackend:k,addNextRepeat:$}}],49946)},52219,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(49946),n=e.i(55111),i=e.i(49239);let s=(0,r.createContext)();e.s(["TaskProvider",0,({children:e})=>{let o=(0,a.default)(),{darkMode:d}=(0,i.useUI)(),[u,l]=(0,r.useState)([]),[c,f]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[y,p]=(0,r.useState)(null),g=e=>!e.category||"None"===e.category||0===u.length||u.includes(e.category),D=Object.keys(o.taskDays).reduce((e,t)=>{let r=o.taskDays[t].filter(g).sort((e,t)=>e.dayOrder-t.dayOrder);return r.length>0&&(e[t]=r),e},{}),k=Object.keys(o.completedTasks).reduce((e,t)=>{let r=o.completedTasks[t].filter(g);return r.length>0&&(e[t]=r),e},{}),$={overdue:(o.overdueTasks.overdue||[]).filter(g)},S=async(e=-1,t,r="",a,i="None",s=0,d="NONE",u=0,l=0,c=null)=>{if(""!==r.trim()){let f=await (0,n.addTask)(r,a,i,s,d,u);c&&(f.assignedTime=c,await o.updateBackend(f.id,"assignedTime",c)),-1!==e&&(await o.removeTask(e,t,!0),f.dayOrder=l,o.updateBackend(f.id,"dayOrder",l)),o.addToFrontend(f)}h(""),p(null),f(!1)};return(0,t.jsx)(s.Provider,{value:{...o,taskDays:D,completedTasks:k,overdueTasks:$,showPopup:c,setShowPopup:f,popupDate:m,setPopupDate:h,popupTaskItem:y,setPopupTaskItem:p,callPopup:(e,t=null)=>{h(e),p(t),f(!0)},onPopupClose:S,darkMode:d,selectedProjects:u,toggleProject:e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleDragEnd:e=>{let t,{destination:r,source:a,draggableId:n}=e;if(!r||r.droppableId===a.droppableId&&r.index===a.index||"tasks__list100"===r.droppableId)return;{let e=parseInt(r.droppableId.replace("tasks__list",""),10);t=o.startDate.add(e,"day").format("YYYY-MM-DD")}let i=function(e,t,r){if(!e||!r)return null;let a=e.index-1;if(t.droppableId===e.droppableId&&t.index<e.index&&(a=e.index),a>=0){let e=r[a];if(e)return e.id.toString()}return null}(r,a,D[t]||[]);o.moveTask(n,t,i)}},children:e})},"useTasks",0,()=>(0,r.useContext)(s)],52219)}]);